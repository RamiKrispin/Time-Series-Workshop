---
title: "Time Series Workshop"
subtitle: "Bay Area useR Group"
author: "Rami Krispin (@Rami_Krispin), Danton Noriega (@dantonnoriega)"
date: "`r format(as.Date('2019-10-05'), '%b %d, %Y')`"
output: 
  html_document:
    toc: true
    toc_float: true
    toc_depth: 3
---

<style type="text/css">

body{ /* Normal  */
      font-size: 20px;
  }
td {  /* Table  */
  font-size: 8px;
}
h1.title {
  font-size: 38px;
  color: Black;
}
h1 { /* Header 1 */
  font-size: 28px;
  color: Blue;
}
h2 { /* Header 2 */
    font-size: 22px;
  color: Blue;
}
h3 { /* Header 3 */
  font-size: 18px;
  font-family: "Times New Roman", Times, serif;
  color: DarkBlue;
}
code.r{ /* Code block */
    font-size: 12px;
}
pre { /* Code block - determines code spacing between lines */
    font-size: 14px;
}
</style>



```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, fig.width=9, fig.height=5, warning=FALSE, message=FALSE)
```

## Agenda

* Introduction to time series analysis and forecasting
* Time series objects - introduction to the time series classes and their attributes
* Descriptive analysis of time series
* Linear regression-based forecasting models
* The ARIMA family of models

### Assumptions

* Some background in R
* Basic knowledge in probability
* Familiar with linear regression 

### Why R?

* Statistical programming language 
* A vast amount of [packages](https://cran.r-project.org/web/views/TimeSeries.html) for time series analysis
* The [forecast](http://pkg.robjhyndman.com/forecast/) package (and soon the [fable](https://fable.tidyverts.org/) package)


### Admin

#### Workshop material

All today's slides, code, and rmarkdown files are available on [GitHub](https://github.com/RamiKrispin/Time-Series-Workshop)

Downloading the workshop material from the terminal:

```{bash, eval=FALSE}
git clone https://github.com/RamiKrispin/Time-Series-Workshop.git
```


Or lunch it from a docker container:

```{bash, eval=FALSE}

```


## Introduction to time series analysis and forecasting

### Time series data

> **Time series data** - is a sequence of values, each associate to a unique point in time

> **Regular time series** - is a sequence of observations which were captured at equally spaced time intervals (e.g., every month, week, day, hour, etc.)

> **Irregular time series** - or unevenly spaced time series, is a sequence of observations which were not captured on equally spaced time intervals (for example rainy days, earthquakes, clinical trials, etc.)



**Note:** typically, the term time series data referred to regular time-series data.

### Examples of time series data

```{r echo = TRUE, echo=FALSE, warning=FALSE, message=FALSE}
library(UKgrid)

data(UKgrid)
UKgrid <- extract_grid(type = "data.frame", start = as.Date("2018-01-01"), end = as.Date("2018-01-31"))
TSstudio::ts_plot(UKgrid, title = "The Demand for Electricity in the UK (Half-Hourly Intervals)", Ytitle = "MW", Xtitle = "Date")

library(TSstudio)


TSstudio::ts_plot(USgas, title = "US Monthly Natural Gas Consumption", Ytitle = "Billion Cubic Feet", Xtitle = "Date")
TSstudio::ts_plot(USVSales, title = "US Monthly Total Vehicle Sales", Ytitle = "Thousands of Units", Xtitle = "Date")



```


### Time Series Analysis
> **Time series analysis** - is the process of extracting meaningful insights from time series data in order to learn about the past and predict the future



```{r echo=FALSE, out.width="850px"}
knitr::include_graphics("images/Time Series Analysis Workflow.png")
```


With time series analysis, you can answer questions such as:

* How many vehicles, **approximately**, going to be sold in the US in the next 12 months?
* What will be the **estimated** demand for natural gas in the US in the next five years?
* **Generally**, what will be the demand for electricity in the UK during the next 24 hours?